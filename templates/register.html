{% extends "base.html" %}
{% set title = "Create Account - EventHub" %}

{% block header %}{% endblock %}

{% block content %}
<section class="auth-page">
  <div class="auth-card auth-card-tall">
    <div class="auth-brand auth-brand-center">
      <div class="auth-logo">EH</div>
    </div>

    <h1 class="auth-title">Create your EventHub account</h1>
    <p class="auth-subtext muted">Get tickets, transfer them, and manage your events securely.</p>

    {% if demo_message %}
      <div class="auth-banner auth-banner-ok">{{ demo_message }}</div>
    {% endif %}
    {% if error %}
        <div class="auth-banner auth-banner-error">{{ error }}</div>
    {% endif %}

    <form class="auth-form" method="post" action="{{ url_for('register') }}">
      <label class="auth-label" for="full_name">Full Name</label>
      <div class="auth-input">
        <span class="auth-icon">ğŸ‘¤</span>
        <input id="full_name" name="full_name" type="text" placeholder="John Doe" value="{{ full_name or '' }}" />
      </div>
      {% if errors and errors.full_name %}
        <div class="auth-banner auth-banner-error" style="margin-top: 0.5rem;">{{ errors.full_name }}</div>
      {% endif %}

      <label class="auth-label" for="email">Email</label>
      <div class="auth-input">
        <span class="auth-icon">âœ‰ï¸</span>
        <input id="email" name="email" type="email" placeholder="john.doe@example.com" value="{{ email or '' }}" />
      </div>
      {% if errors and errors.email %}
        <div class="auth-banner auth-banner-error" style="margin-top: 0.5rem;">{{ errors.email }}</div>
      {% endif %}

      <label class="auth-label" for="phone">Phone Number</label>
      <div class="auth-input">
        <span class="auth-icon">ğŸ“</span>
        <input id="phone" name="phone" type="tel" placeholder="(+1) 555-123-4567" value="{{ phone or '' }}" />
      </div>
      {% if errors and errors.phone %}
        <div class="auth-banner auth-banner-error" style="margin-top: 0.5rem;">{{ errors.phone }}</div>
      {% endif %}

      <label class="auth-label" for="password">Password</label>
      <div class="auth-input">
        <span class="auth-icon">ğŸ”’</span>
        <input id="password" name="password" type="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" />
        <span class="auth-eye">ğŸ‘ï¸</span>
      </div>
      {% if errors and errors.password %}
        <div class="auth-banner auth-banner-error" style="margin-top: 0.5rem;">{{ errors.password }}</div>
      {% endif %}

      <label class="auth-label" for="confirm_password">Confirm Password</label>
      <div class="auth-input">
        <span class="auth-icon">ğŸ”’</span>
        <input id="confirm_password" name="confirm_password" type="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" />
        <span class="auth-eye">ğŸ‘ï¸</span>
      </div>

      <div class="auth-rules">
        <div class="auth-rules-title">Password must:</div>
        <ul class="auth-rules-list muted small">
          <li>Be 8-64 characters long</li>
          <li>Contain uppercase, lowercase, number, and special character</li>
          <li>Not contain whitespace</li>
          <li>Not be the same as your email</li>
        </ul>
      </div>

      <label class="auth-check auth-check-terms">
        <input type="checkbox" name="agree" />
        <span>I agree to <a class="auth-link" href="#">Terms &amp; Privacy</a></span>
      </label>

      <button class="btn btn-primary btn-full" type="submit">Create Account</button>

      <div class="auth-bottom">
        <div class="muted">
          Already have an account?
          <a class="auth-link" href="{{ url_for('login') }}">Sign in</a>
        </div>

        <div class="auth-legal muted small">
          Passwords are hashed and salted for your security.<br/>
          Enable MFA later in settings for enhanced protection.
        </div>
      </div>
    </form>
  </div>
</section>
{% endblock %}
